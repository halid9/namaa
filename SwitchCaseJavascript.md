

## ما هي جملة `switch` ولماذا نستخدمها؟

تُستخدم جملة `switch` لتنفيذ واحدة من عدة كتل برمجية بناءً on قيمة تعبير أو متغير معين. إنها طريقة أكثر تنظيمًا وأحيانًا أسهل في القراءة من استخدام سلسلة طويلة من جمل `if...else if...else`.

**فكر فيها كأنها موظف استقبال في فندق:**

1.  أنت (الكود) تعطي للموظف رقم غرفة (`switch (roomNumber)`).
2.  الموظف يبحث في قائمة الغرف (`case 1:`, `case 2:`, etc.).
3.  عندما يجد الغرفة المطابقة، يعطيك المفتاح الخاص بها (`// ينفذ الكود`).
4.  إذا لم يجد الغرفة، يحولك إلى قسم المساعدة (`default:`).

### الصيغة العامة

```javascript
switch(expression) {
  case x:
    // الكود الذي يُنفذ إذا كانت قيمة expression تساوي x
    break;
  case y:
    // الكود الذي يُنفذ إذا كانت قيمة expression تساوي y
    break;
  default:
    // الكود الذي يُنفذ إذا لم تتطابق أي من الحالات السابقة
}
```

**شرح الأجزاء:**

  * **`switch(expression)`**: يتم تقييم التعبير (غالبًا ما يكون متغيرًا) مرة واحدة.
  * **`case value:`**: تتم مقارنة قيمة التعبير مع كل `case`.
  * **`break`**: كلمة مفتاحية **مهمة جدًا** تمنع الكود من الاستمرار في تنفيذ بقية الحالات (`case`) بعد العثور على تطابق.
  * **`default`**: كتلة الكود التي يتم تنفيذها إذا لم يتم العثور على أي تطابق في أي `case`.

-----

### مثال عملي: تحديد اسم اليوم

لنفترض أننا نريد الحصول على اسم اليوم الحالي. دالة `new Date().getDay()` تُرجع رقمًا من 0 (الأحد) إلى 6 (السبت). يمكننا استخدام `switch` لتحويل هذا الرقم إلى اسم.

```javascript
let day; // سنخزن اسم اليوم في هذا المتغير

// new Date().getDay() هو التعبير الذي سنختبره
switch (new Date().getDay()) {
  case 0:
    day = "الأحد";
    break; // توقف هنا
  case 1:
    day = "الاثنين";
    break;
  case 2:
    day = "الثلاثاء";
    break;
  case 3:
    day = "الأربعاء";
    break;
  case 4:
    day = "الخميس";
    break;
  case 5:
    day = "الجمعة";
    break;
  case 6:
    day = "السبت";
    break; // على الرغم من أنها الأخيرة، من الجيد وضعها
}

console.log("اليوم هو: " + day);
// سيطبع اسم اليوم الحالي
```

-----

### أهمية كلمة `break`

إذا نسيت كتابة `break`، سيحدث ما يسمى **"fall-through"** أو "السقوط"، حيث سيقوم JavaScript بتنفيذ الكود في الـ `case` التالية أيضًا، حتى يصل إلى `break` أو نهاية الـ `switch`.

**مثال على الخطأ (بدون `break`):**

```javascript
let number = 2;
let text = "";

switch(number) {
  case 1:
    text = "صغير";
  case 2:
    text = "متوسط"; // سيتم تنفيذ هذا
  case 3:
    text = "كبير";  // وسيتم تنفيذ هذا أيضًا!
    break;
  default:
    text = "غير معروف";
}

console.log(text); // النتيجة ستكون "كبير" وليست "متوسط"
```

لأننا لم نضع `break` بعد `case 2`، استمر التنفيذ إلى `case 3` وغيّر قيمة المتغير `text` مرة أخرى.

-----

### كلمة `default`

تُستخدم `default` كخيار احتياطي. إذا لم تتطابق قيمة التعبير مع أي `case`، سيتم تنفيذ الكود الموجود في `default`.

**مثال:**

```javascript
let fruit = "Mango";
let text;

switch (fruit) {
  case "Banana":
    text = "الموز أصفر.";
    break;
  case "Apple":
    text = "التفاح أحمر.";
    break;
  default:
    text = "لا توجد معلومات عن هذه الفاكهة.";
}

console.log(text); // سيطبع "لا توجد معلومات عن هذه الفاكهة."
```

باختصار، `switch` هي أداة فعالة ونظيفة للتحكم في تدفق الكود عندما يكون لديك متغير واحد تريد مقارنته بقيم متعددة محتملة.
